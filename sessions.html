<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sessions with Mistress Obsidian</title>
  <style>
    body { background: #0b0b0b; color: #e6e6e6; font-family: 'Georgia', serif; margin: 0; padding: 0; }
    header { background: #990000; padding: 25px; text-align: center; }
    header h1 { color: #fff; margin: 0; font-size: 2.5em; }
    .container { padding: 40px; max-width: 800px; margin: auto; }
    .sessions-box { background: #1a1a1a; border-radius: 12px; padding: 32px 18px 24px 18px; box-shadow: 0 0 12px #ff1a1a44; margin-bottom: 40px; }
    .sessions-title { color: #ff1a1a; font-size: 1.3em; font-weight: bold; margin-bottom: 20px; text-align: center; }
    .select-all-row { display: flex; align-items: center; margin-bottom: 15px; }
    .select-all-row input[type="checkbox"] { accent-color: #ff1a1a; margin-right: 9px; }
    .select-all-row label { font-weight: 600; color: #ff1a1a; font-size: 1.07em; cursor: pointer; }
    .sessions-list { columns: 1; margin: 0 auto 18px auto; max-width: 600px; list-style: none; padding: 0; }
    .sessions-list li { margin-bottom: 16px; display: flex; align-items: flex-start; }
    .sessions-list label { color: #e6e6e6; font-weight: 500; margin-left: 12px; font-size: 1.07em; cursor: pointer; flex: 1; }
    .sessions-list input[type="checkbox"] { margin-top: 3px; accent-color: #ff1a1a; width: 1.1em; height: 1.1em; }
    form { background: #181818; padding: 28px 18px; border-radius: 12px; margin-bottom: 16px; box-shadow: 0 0 8px #ff1a1a22; }
    form h2 { color: #ff1a1a; margin-top: 0; }
    label[for="details"] { color: #fff; margin-top: 12px; margin-bottom: 0; }
    input, textarea { width: 100%; padding: 10px; margin-top: 7px; background: #262626; color: #fff; border: 1px solid #333; border-radius: 5px; }
    button { margin-top: 20px; background: #990000; color: #fff; padding: 12px 20px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 1.09em; }
    button:hover { background: #b30000; }
    .status-message { text-align:center; margin-top:15px; }
    footer { text-align: center; padding: 25px; background: #1a1a1a; color: #888; margin-top: 40px; }
    #spiral-div { min-height: 220px; }
    @media (max-width: 600px) { .container { padding: 8px; } .sessions-box { padding: 16px 5px; } form { padding: 10px 4px; } .sessions-title { font-size: 1.08em; } }
  </style>
</head>
<body>
  <header><h1>Sessions with Mistress Obsidian</h1></header>
  <div class="container">
    <form id="session-form" action="#" method="POST" autocomplete="off">
      <div class="sessions-box">
        <div class="sessions-title">Select One or More Sessions You Desire</div>
        <div class="select-all-row">
          <input type="checkbox" id="selectAll" />
          <label for="selectAll">Select All</label>
        </div>
        <ul class="sessions-list">
          <li>
            <input type="checkbox" id="session1" name="sessions" value="Obsidian Bondage Ritual">
            <label for="session1"><b>Obsidian Bondage Ritual</b> &mdash; Strict restraint with rope, leather, cuffs, and sensory deprivation. Surrender your body and mind to My artistry.</label>
          </li>
          <li>
            <input type="checkbox" id="session2" name="sessions" value="Mistress Escort Experience">
            <label for="session2"><b>Mistress Escort Experience</b> &mdash; Step into an elite world of control, seduction, and sophistication. Exclusive Mistress escort, tailored companionship, obedience meets luxury.</label>
          </li>
          <li>
            <input type="checkbox" id="session3" name="sessions" value="Psychological Domination">
            <label for="session3"><b>Psychological Domination</b> &mdash; Mind games, commands, humiliation and challenge—watch as I shape your will to My desire.</label>
          </li>
          <li>
            <input type="checkbox" id="session4" name="sessions" value="Chastity & Keyholding">
            <label for="session4"><b>Chastity & Keyholding</b> &mdash; Entrust Me with your release. I control your pleasure. Ritual check-ins and ultimate denial or reward.</label>
          </li>
          <li>
            <input type="checkbox" id="session5" name="sessions" value="Obedience & Discipline Training">
            <label for="session5"><b>Obedience & Discipline Training</b> &mdash; Spanking, caning, punishment, correction, and strict protocol for those craving structure.</label>
          </li>
          <li>
            <input type="checkbox" id="session6" name="sessions" value="Verbal Humiliation & Degradation">
            <label for="session6"><b>Verbal Humiliation & Degradation</b> &mdash; Language as a weapon. Taunts, exposure, and humiliation crafted for you.</label>
          </li>
          <li>
            <input type="checkbox" id="session7" name="sessions" value="Foot Worship & Bootlicking">
            <label for="session7"><b>Foot Worship & Bootlicking</b> &mdash; Devote yourself at My feet or boots. Worship, massage, and ritual cleaning by My command.</label>
          </li>
          <li>
            <input type="checkbox" id="session8" name="sessions" value="Pet & Animal Roleplay">
            <label for="session8"><b>Puppy, Pet & Animal Roleplay</b> &mdash; Be tamed, trained, and cared for as My pet. New world of obedience and playful submission.</label>
          </li>
          <li>
            <input type="checkbox" id="session9" name="sessions" value="Forced Feminization / Sissy Training">
            <label for="session9"><b>Forced Feminization / Sissy Training</b> &mdash; Transform under My gaze. Dress, act, and serve as Mistress desires—makeup, attire, posture, ritual.</label>
          </li>
          <li>
            <input type="checkbox" id="session10" name="sessions" value="Domestic Servitude">
            <label for="session10"><b>Domestic Servitude</b> &mdash; Serve as My house slave. Cleaning, tea ceremony, service tasks, and attention to detail.</label>
          </li>
          <li>
            <input type="checkbox" id="session11" name="sessions" value="Public/Private Rituals">
            <label for="session11"><b>Public/Private Rituals</b> &mdash; Formal collaring, oath-taking, obedience ceremonies. Enter the sacred ritual of submission.</label>
          </li>
          <li>
            <input type="checkbox" id="session12" name="sessions" value="Impact Play">
            <label for="session12"><b>Impact Play</b> &mdash; Spanking, flogging, paddling, caning—expertly delivered for catharsis, punishment, or pleasure.</label>
          </li>
          <li>
            <input type="checkbox" id="session13" name="sessions" value="Aftercare Sanctuary">
            <label for="session13"><b>Aftercare Sanctuary</b> &mdash; Gentle guidance, affirmations, and ritual aftercare to restore balance after every session.</label>
          </li>
        </ul>
      </div>
      <h2>Request a Session</h2>
      <label for="name">Your Slave Name:</label>
      <input type="text" id="name" name="slaveName" required>
      <label for="email">Email Address:</label>
      <input type="email" id="email" name="email" required>
      <label for="details">Describe your limits & desires:</label>
      <textarea id="details" name="details" rows="4" placeholder="Be specific and truthful..." required></textarea>
      <button type="submit" id="submit-btn">Submit to Mistress</button>
      <div class="status-message" id="session-status"></div>
    </form>
  </div>
  <footer>&copy; 2025 Mistress Obsidian. All obedience logged and monitored.</footer>
  <script>
    // Require tribute verification
    const user = localStorage.getItem('username');
    const authenticated = localStorage.getItem('authenticated') === 'true';
    const tributeStatus = JSON.parse(localStorage.getItem('tributeStatus') || '{}');
    if (!authenticated || !user || !tributeStatus[user]) {
      window.location.href = 'tribute.html';
    }

    // Select All Checkbox logic
    const selectAll = document.getElementById('selectAll');
    const checkboxes = Array.from(document.querySelectorAll('input[name="sessions"]'));
    selectAll.addEventListener('change', function() {
      checkboxes.forEach(cb => cb.checked = this.checked);
    });
    checkboxes.forEach(cb => cb.addEventListener('change', function() {
      if (!this.checked) selectAll.checked = false;
      else if (checkboxes.every(cb => cb.checked)) selectAll.checked = true;
    }));

    // Spiral and approval flow for multi-select session
    function handleSessionSubmit(e) {
      e.preventDefault();
      // Collect selected sessions
      const checked = checkboxes.filter(cb => cb.checked).map(cb => cb.value);
      if (checked.length === 0) {
        document.getElementById('session-status').textContent = "Please select at least one session type.";
        document.getElementById('session-status').style.color = "#ff1a1a";
        return false;
      }
      // Save selected sessions for archive/admin/etc.
      let sessionRecords = JSON.parse(localStorage.getItem('sessions') || '[]');
      sessionRecords.push({
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        sessions: checked,
        details: document.getElementById('details').value,
        submitted: new Date().toLocaleString()
      });
      localStorage.setItem('sessions', JSON.stringify(sessionRecords));
      // Hide form and show spiral
      const form = document.getElementById('session-form');
      form.style.display = 'none';
      // Show spiral
      let spiralDiv = document.createElement('div');
      spiralDiv.id = "spiral-div";
      spiralDiv.style.display = "flex";
      spiralDiv.style.flexDirection = "column";
      spiralDiv.style.alignItems = "center";
      spiralDiv.style.justifyContent = "center";
      spiralDiv.innerHTML = `
        <div style="margin-top:60px;">
          <svg width="80" height="80" viewBox="0 0 80 80">
            <g>
              <circle cx="40" cy="40" r="36" stroke="#ff1a1a" stroke-width="7" fill="none" opacity="0.22"/>
              <path id="spiral" fill="none" stroke="#ff1a1a" stroke-width="6" d="M40,70 Q20,60 20,40 Q20,20 40,10 Q60,20 60,40 Q60,60 40,70 Z"/>
            </g>
          </svg>
        </div>
        <div style="margin-top:20px;color:#ff1a1a;font-size:1.12em;">Processing Session Request...</div>
      `;
      form.parentNode.insertBefore(spiralDiv, form);
      // Animate spiral
      const svg = spiralDiv.querySelector('svg');
      svg.style.transformOrigin = "40px 40px";
      let angle = 0;
      let running = true;
      function spin() {
        if (running) {
          angle += 8;
          svg.style.transform = `rotate(${angle}deg)`;
          requestAnimationFrame(spin);
        }
      }
      spin();
      // After 4s, show approval and begin link
      setTimeout(() => {
        running = false;
        spiralDiv.innerHTML = `
          <div style="margin-top:45px;font-size:1.3em;color:#39ff14;font-weight:bold;">Session approved</div>
          <div style="margin-top:18px;">
            <a id="begin-session-link" href="#" style="color:#ff1a1a;font-size:1.15em;text-decoration:underline;cursor:pointer;">Click here to begin session</a>
          </div>
        `;
        document.getElementById('begin-session-link').onclick = function() {
          window.location.href = "session-fee.html";
          return false;
        };
      }, 4000);
      return false;
    }
    document.getElementById('session-form').onsubmit = handleSessionSubmit;
  </script>
</body>
</html>